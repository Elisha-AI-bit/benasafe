<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>{% block title %}BeneSafe - Digital Asset Management{% endblock %}</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <!-- Google Fonts: Public Sans & Inter -->
    <link
        href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#197fe6",
                        "primary-hover": "#166dba",
                        "background-light": "#f6f7f8",
                        "background-dark": "#111921",
                        "surface-light": "#ffffff",
                        "surface-dark": "#1c2631",
                        "slate-850": "#1a2531",
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"],
                        "body": ["Public Sans", "sans-serif"],
                        "sans": ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        "DEFAULT": "0.375rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .icon-filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>

    <!-- Modern CSS -->
    <link href="{% static 'css/modern.css' %}" rel="stylesheet">

    {% block extra_css %}{% endblock %}
</head>

<body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 h-screen flex overflow-hidden font-sans transition-colors duration-200">

    <!-- Sidebar -->
    {% if user.is_authenticated %}
    {% include 'includes/sidebar.html' %}
    {% endif %}

    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col h-full overflow-hidden relative">

        <!-- Top Navbar -->
        {% if user.is_authenticated %}
        {% include 'includes/header.html' %}
        {% else %}
        {% include 'includes/navbar.html' %}
        {% endif %}

        <!-- Content Scroll Area -->
        <main class="flex-1 overflow-y-auto bg-background-light dark:bg-background-dark p-6 lg:p-8">
            <div class="max-w-[1400px] mx-auto flex flex-col gap-6">
                <!-- Messages -->
                {% if messages %}
                <div class="space-y-4 mb-6">
                    {% for message in messages %}
                    <div class="flex items-center justify-between p-4 rounded-lg shadow-sm border {% if message.tags == 'error' %}bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-900/50 dark:text-red-400{% elif message.tags == 'success' %}bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-900/50 dark:text-green-400{% else %}bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-900/50 dark:text-blue-400{% endif %}"
                        role="alert">
                        <div class="flex items-center gap-3">
                            <span class="material-symbols-outlined text-[20px]">
                                {% if message.tags == 'error' %}error{% elif message.tags == 'success' %}check_circle{%
                                else %}info{% endif %}
                            </span>
                            <p class="text-sm font-medium">{{ message }}</p>
                        </div>
                        <button type="button" class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"
                            onclick="this.parentElement.remove()">
                            <span class="material-symbols-outlined text-[18px]">close</span>
                        </button>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <!-- Page Content -->
               {% block content %}

<!-- Dashboard Header Title -->
<div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6">

    <div>
        {% block page_title %}
            {% if user.is_authenticated %}
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white tracking-tight">
                    Overview
                </h2>
            {% endif %}
        {% endblock %}

        {% block breadcrumbs %}
            {% if user.is_authenticated %}
                <!-- breadcrumbs go here -->
            {% endif %}
        {% endblock %}
    </div>

    {% block page_actions %}
        {% if user.is_authenticated %}
            <!-- page actions go here -->
        {% endif %}
    {% endblock %}

</div>

{% endblock %}

<!-- Footer -->
{% include 'includes/footer.html' %}

        </main>
    </div>

    <!-- Custom JS -->
    <script src="{% static 'js/custom.js' %}"></script>

    {% block extra_js %}{% endblock %}
</body>

</html>